/* 
*   Copyright (c) Microsoft Corporation.  All rights reserved.
*/
$(document).ready(function(){var a="#ExpandCollapseImage",b="#LoadingIndicatorPanel";$(b).ajaxStart(function(){showLoadingIndicator()});$(b).ajaxStop(function(){hideLoadingIndicator()});$("select#Containers").change(function(){dropDownListSelectedIndexChanged()});$("#Para1").click(function(){$(this).next("#Para2").slideToggle(350);return false});$("#Para1").toggle(function(){var b="Hide Details";$(a).attr("src",CollapserImage);$(a).attr("title",b);$(a).attr("alt",b)},function(){var b="Show Details";$(a).attr("src",ExpanderImage);$(a).attr("title",b);$(a).attr("alt",b)})});function page_init(){Sys.Application.add_navigate(onStateChanged);var c=window.location.hash;if(c=="#"||c==""){var b=$("#Containers > option:selected").attr("value");Sys.Application.addHistoryPoint({Container:b,Category:"All"},siteTitle);return}var a=c.split("&"),f=a[0].indexOf("="),b=a[0].substr(f+1),h=a[1].indexOf("="),d=a[1].substr(h+1),g=getLoadedCategory(),e=document.getElementById("Containers").value;(e!=b||g!=d)&&loadCategoriesAndEntitySets(b,d)}function getLoadedCategory(){var b="CategoryNamepanel",a="";if(document.getElementById(b)){a=document.getElementById(b).innerHTML;if(a.indexOf("All Available Data Sets")>-1)a="All"}return a}function loadCategoriesAndEntitySets(a,b){document.getElementById("Containers").value=a;$.ajax({type:"POST",url:"DataCatalog/LoadDataCatalogMapRoute/"+a+"/"+b,dataType:"html",success:function(a){$("#leftPanelDiv").html(a);categoryLinkBold(b)}})}function legalDisclaimerLinkClicked(){var a=$("#Containers > option:selected").attr("value");$.ajax({type:"GET",contentType:"application/json; charset=utf-8",url:"DataCatalog/LoadLegalDisclaimerMapRoute/"+a,data:"{}",dataType:"json",success:function(b){var a="#disclaimerPopup";$("#disclaimerBody > p").remove();if(b.length>0)for(legalDisclaimer in b)$("#disclaimerBody").append("<p>"+b[legalDisclaimer]+"</p>");$(a).dialog({width:530,autoOpen:false,show:"slide",modal:true,position:"center",resizable:false,beforeclose:function(){}});$(a).css({visibility:"visible",cursor:"pointer"});$(a).dialog("open")}})}function onStateChanged(f,d){var b=d.get_state().Container,a=d.get_state().Category;if(b==""||b==undefined)b=$("#Containers > option:selected").attr("value");if(a==""||a==undefined)a="All";var c=getLoadedCategory(),e=document.getElementById("Containers").value;if(e!=b||c=="")loadCategoriesAndEntitySets(b,a);else c!=a&&$.ajax({type:"POST",url:"DataCatalog/LoadDataCatalogEntitySets/"+b+"/"+a,dataType:"html",success:function(b){$("#rightPanelDiv").html(b);categoryLinkBold(a)}})}function dropDownListSelectedIndexChanged(){var a=$("#Containers > option:selected").attr("value");$.ajax({type:"POST",url:"DataCatalog/LoadDataCatalogMapRoute/"+a,dataType:"html",success:function(b){$("#leftPanelDiv").html(b);Sys.Application.addHistoryPoint({Container:a,Category:"All"},siteTitle)}})}function categoryLinkClicked(b){var a=$("#Containers > option:selected").attr("value");Sys.Application.addHistoryPoint({Container:a,Category:b},siteTitle)}function categoryLinkBold(c){c=unescape(c);for(var d=document.getElementById("CategoryPanel"),b=d.getElementsByTagName("a"),a=0;a<b.length;a++)if(b[a].id!=c)document.getElementById(b[a].id).style.fontWeight="normal";else document.getElementById(b[a].id).style.fontWeight="bold"}function showLoadingIndicator(){var b="display:block;",a="style",c=getBodyHeight(),d=getBodyWidth();$("#BackGroundLoadingIndicator").attr(a,"display:block;height:"+c+"px;width:"+d+"px");$("#LoadingIndicatorPanel").attr(a,b);$("#imgLoading").attr(a,b)}function hideLoadingIndicator(){var a="display:none;",b="style";$("#LoadingIndicatorPanel").attr(b,a);$("#BackGroundLoadingIndicator").attr(b,a);$("#imgLoading").attr(b,a)}function getBodyWidth(){var a=0,c=0,b=0,d=0;if(document.width)a=document.width;else if(document.body){if(document.body.scrollWidth)a=c=document.body.scrollWidth;if(document.body.offsetWidth)a=b=document.body.offsetWidth;if(c&&b){a=d=Math.max(c,b);if(c!=b)a=a*(1003/936);if(screen.width)a=d=Math.max(a,screen.width)}}if(navigator.appName=="Microsoft Internet Explorer"||navigator.appName=="Opera")return a;else if(navigator.appName=="Mozilla")return window.screen.availWidth*(screen.deviceXDPI/screen.logicalXDPI);else if(navigator.appName=="Netscape")return Math.max(screen.width,window.innerWidth);else return a}function getBodyHeight(){var a=0,c=0,b=0,d;if(document.height)a=document.height;else if(document.body){if(document.body.scrollHeight)a=c=document.body.scrollHeight;if(document.body.offsetHeight)a=b=document.body.offsetHeight;if(c&&b)a=d=Math.max(c,b)}if(navigator.appName=="Microsoft Internet Explorer")return a;else return window.screen.availHeight*(screen.deviceYDPI/screen.logicalYDPI)}window.onresize=setLayerPosition;function setLayerPosition(){var a=document.getElementById("BackGroundLoadingIndicator");a.style.width=getBodyWidth()+"px";a.style.height=getBodyHeight()+"px"}function ShowHideError(){var a="trError",b=document.getElementById(a);if(b){var c=document.getElementById("labelError").title;if(c=="")document.getElementById(a).style.display="none";else document.getElementById(a).style.display="block"}}